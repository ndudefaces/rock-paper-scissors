<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock, Paper, Scissors</title>
</head>
<body>
    <h3>Let's play a game...</h3>
    <div class="running-score">
        <span class="player-score">Player Score: </span>
        <span class="computer-score">Computer Score: </span>
    </div>
    <div class="container">Choose your weapon: 
        <button class="rock">Rock</button>
        <button class="paper">Paper</button>
        <button class="scissors">Scissors</button>
    </div>
    <div class="outcome"></div>
    <script>
        const rockButton = document.querySelector('.rock');
        const paperButton = document.querySelector('.paper');
        const scissorsButton = document.querySelector('.scissors');
        const outcomeDiv = document.querySelector('.outcome');
        const playerScoreSpan = document.querySelector('.player-score');
        const computerScoreSpan = document.querySelector('.computer-score');
        let playerScore = 0;
        let computerScore = 0;

        function getComputerChoice () {
        const pick = ['rock', 'paper', 'scissors'];
            return pick [Math.floor(Math.random() * pick.length)];
        }
        function playRound (playerSelection, computerSelection) {
            if (playerSelection === computerSelection) {
            const p = document.createElement('p')
            p.innerText = `It\'s a tie! You both picked ${playerSelection}.`;
            outcomeDiv.appendChild(p);
        } else if (playerSelection === 'rock' && computerSelection === 'scissors') {
            playerScore++;
            const p = document.createElement('p')
            p.innerText = `You win! ${playerSelection} beats ${computerSelection}.`;
        } else if (playerSelection === 'paper' && computerSelection === 'rock') {
            playerScore++;
            const p = document.createElement('p')
            p.innerText = `You win! ${playerSelection} beats ${computerSelection}.`;
            outcomeDiv.appendChild(p);
        } else if (playerSelection === 'scissors' && computerSelection === 'paper') {
            playerScore++;
            const p = document.createElement('p')
            p.innerText = `You win! ${playerSelection} beats ${computerSelection}.`;
            outcomeDiv.appendChild(p);
        } else {
            computerScore++;
            const p = document.createElement('p')
            p.innerText = `You lose! ${computerSelection} beats ${playerSelection}.`;
            outcomeDiv.appendChild(p);
        }
    }

    const updateScores = (playerScore, computerScore) => {
        playerScoreSpan.innerText = `${playerScore}`;
        computerScoreSpan.innerText = `${computerScore}`;
    }

    rockButton.addEventListener('click', () => {
            const computerSelection = getComputerChoice();
            const playerSelection = 'rock';
            playRound(playerSelection, computerSelection);
            updateScores(playerScore, computerScore);
            checkForWinner(playerScore, computerScore);
        })

    paperButton.addEventListener('click', () => {
            const computerSelection = getComputerChoice();
            const playerSelection = 'paper';
            playRound(playerSelection, computerSelection);
            updateScores(playerScore, computerScore);
            checkForWinner(playerScore, computerScore);
        })

    scissorsButton.addEventListener('click', () => {
            const computerSelection = getComputerChoice();
            const playerSelection = 'scissors';
            playRound(playerSelection, computerSelection);
            updateScores(playerScore, computerScore);
            checkForWinner(playerScore, computerScore);
        })

    function checkForWinner(playerScore, computerScore) {
        if (playerScore === 5) {
            const h4 = document.createElement('h4');
            h4.classList.add('player-won');
            h4.innerText = `Great job! You beat the computer ${playerScore} to ${computerScore}.`;
            outcomeDiv.appendChild(h4);
        } else if (computerScore === 5) {
            const h4 = document.createElement('h4');
            h4.classList.add('computer-won');
            h4.innerText = `Oh no! The computer beat you ${computerScore} to ${playerScore}.`; 
            outcomeDiv.appendChild(h4);
        }
    }
/*     function game(){
        for(let i=0; i < 5; i++) {
            let playerSelection = prompt("Start the game by choosing rock, paper, or scissors.").toLowerCase();
            let roundResult = playRound (playerSelection, getComputerChoice());
            if (roundResult === "playerWinRound") {
                playerScore++;
            } else if (roundResult === "computerWinRound") {
                computerScore++;
            }
        }
        if (playerScore > computerScore) {
            gameWinner = console.log('Nicely done, you\'ve won!');
        } else if (computerScore > playerScore) {
            gameWinner = console.log('You\'ve been defeated!');
        } else {
            gameWinner = console.log('It\'s a draw!');
        }
    } */
    //console.log (playRound());
    </script>
</body>
</html>